
@{
    Layout = null;
}

<section class="content">
    <div class="container-fluid">
        <div class="card card-primary card-outline card-outline-tabs">
            <div class="card-header">
                <span class="card-title" style="padding-top: 12px;">
                    <b><i class="fas fa-plus"></i> Chọn File căn cứ</b>
                </span>
                <div class="card-tools ml-auto">
                    <button ng-click="$ctrl.cancel()"
                            class="btn btn-sm btn-warning">
                        Thoát
                    </button>
                </div>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-lg-9">
                        <div class="card card-primary card-outline">
                            <div class="card-header">
                                <h3 class="card-title"><i class="fas fa-list"></i> Danh sách file ({{$ctrl.bigTotalItems}})</h3>
                            </div>
                            <div class="card-body">
                                <table class="table">
                                    <thead>
                                        <tr>
                                            <th class="text-left">Số/Ký hiệu</th>
                                            <th class="text-left">Ngày ban hành</th>
                                            <th class="text-left">Nội dung/Mô tả</th>
                                            <th><i class="fas fa-cogs"></i></th>
                                        </tr>
                                    </thead>

                                    <tbody>
                                        <tr ng-repeat="item in $ctrl.dsFileCanCu track by $index">
                                            <td ng-bind="item.SoVanBan + '/' + item.SoKyHieu" class="text-left"></td>
                                            <td ng-bind="item.NgayBanHanh | date:'dd/MM/yyyy'" class="text-left"></td>
                                            <td ng-bind="item.MOTA" class="text-left"></td>
                                            <td>
                                                <button type="button"
                                                        class="btn btn-sm btn-primary"
                                                        ng-click="$ctrl.ViewFile(item)">
                                                    <i class="fas fa-eye"></i>
                                                </button>
                                                <button type="button"
                                                        class="btn btn-sm btn-info"
                                                        ng-click="$ctrl.ChonFile(item,$index)">
                                                    <i class="fas fa-check-circle"></i>
                                                </button>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <div class="card-footer clearfix">
                                <ul uib-pagination
                                    total-items="$ctrl.bigTotalItems"
                                    ng-model="$ctrl.bigCurrentPage"
                                    items-per-page="$ctrl.para.End"
                                    ng-change="$ctrl.PhanTrang()"
                                    max-size="$ctrl.maxSize"
                                    first-text="&laquo;"
                                    last-text="&raquo;"
                                    direction-links="false"
                                    class="pagination-sm float-left"
                                    boundary-links="true"
                                    rotate="false">
                                </ul>
                            </div>
                        </div>

                        <div class="card card-primary card-outline">
                            <div class="card-header">
                                <h3 class="card-title"><i class="fas fa-list"></i> File đã chọn ({{$ctrl.dsFileDaChon.length}})</h3>
                            </div>
                            <div class="card-body">
                                <table class="table">
                                    <thead>
                                        <tr>
                                            <th class="text-left">Số/Ký hiệu</th>
                                            <th class="text-left">Ngày ban hành</th>
                                            <th class="text-left">Nội dung/Mô tả</th>
                                            <th><i class="fas fa-cogs"></i></th>
                                        </tr>
                                    </thead>

                                    <tbody>
                                        <tr ng-repeat="item in $ctrl.dsFileDaChon track by $index">
                                            <td ng-bind="item.SoVanBan + '/' + item.SoKyHieu" class="text-left"></td>
                                            <td ng-bind="item.NgayBanHanh | date:'dd/MM/yyyy'" class="text-left"></td>
                                            <td ng-bind="item.MOTA" class="text-left"></td>
                                            <td>
                                                <button type="button"
                                                        class="btn btn-sm btn-primary"
                                                        ng-click="$ctrl.ViewFile(item)">
                                                    <i class="fas fa-eye"></i>
                                                </button>
                                                <button type="button"
                                                        class="btn btn-sm btn-danger"
                                                        ng-click="$ctrl.XoaFile(item,$index)">
                                                    <i class="fas fa-trash"></i>
                                                </button>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                    <div class="col-lg-3">
                        <div class="card card-primary card-outline">
                            <div class="card-header">
                                <h3 class="card-title"><i class="fas fa-search"></i> Công cụ - Tiện ích</h3>
                            </div>
                            <div class="card-body">
                                <div class="form-group mb-2">
                                    <label class="mb-1">Số/Ký hiệu</label>
                                    <input type="text" 
                                           class="form-control" 
                                           placeholder="Nhập số/Ký hiệu ..." 
                                           ng-model="$ctrl.para.CodeNumber" 
                                           name="sokyhieu" 
                                           required>
                                </div>
                                <div class="form-group mb-2">
                                    <label class="mb-1">Nội dung/Mô tả</label>
                                    <input type="text"
                                           class="form-control"
                                           placeholder="Nhập nội dung/Mô tả ..."
                                           ng-model="$ctrl.para.SearchString"
                                           name="trichyeu"
                                           required>
                                </div>
                                <div class="form-group">
                                    <label>Ban hành từ ngày</label>
                                    <div>
                                        <p class="input-group">
                                            <input type="text" class="form-control" uib-datepicker-popup="dd/MM/yyyy" ng-model="$ctrl.BeginDate" is-open="$ctrl.bd.opened" ng-required="true" close-text="Close" ng-click="$ctrl.openBeginDate()" readonly />
                                            <span class="input-group-btn">
                                                <button type="button" class="btn btn-secondary height-100" ng-click="$ctrl.openBeginDate()">
                                                    <i class="fa-svg-icon">
                                                        <svg width="1792" height="1792" viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg">
                                                            <path d="M192 1664h288v-288h-288v288zm352 0h320v-288h-320v288zm-352-352h288v-320h-288v320zm352 0h320v-320h-320v320zm-352-384h288v-288h-288v288zm736 736h320v-288h-320v288zm-384-736h320v-288h-320v288zm768 736h288v-288h-288v288zm-384-352h320v-320h-320v320zm-352-864v-288q0-13-9.5-22.5t-22.5-9.5h-64q-13 0-22.5 9.5t-9.5 22.5v288q0 13 9.5 22.5t22.5 9.5h64q13 0 22.5-9.5t9.5-22.5zm736 864h288v-320h-288v320zm-384-384h320v-288h-320v288zm384 0h288v-288h-288v288zm32-480v-288q0-13-9.5-22.5t-22.5-9.5h-64q-13 0-22.5 9.5t-9.5 22.5v288q0 13 9.5 22.5t22.5 9.5h64q13 0 22.5-9.5t9.5-22.5zm384-64v1280q0 52-38 90t-90 38h-1408q-52 0-90-38t-38-90v-1280q0-52 38-90t90-38h128v-96q0-66 47-113t113-47h64q66 0 113 47t47 113v96h384v-96q0-66 47-113t113-47h64q66 0 113 47t47 113v96h128q52 0 90 38t38 90z" />
                                                        </svg>
                                                    </i>
                                                </button>
                                            </span>
                                        </p>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label>Cho tới ngày</label>
                                    <div>
                                        <p class="input-group">
                                            <input type="text" class="form-control" uib-datepicker-popup="dd/MM/yyyy" ng-model="$ctrl.EndDate" is-open="$ctrl.ed.opened" ng-required="true" close-text="Close" ng-click="$ctrl.openEndDate()" readonly />
                                            <span class="input-group-btn">
                                                <button type="button" class="btn btn-secondary height-100" ng-click="$ctrl.openEndDate()">
                                                    <i class="fa-svg-icon">
                                                        <svg width="1792" height="1792" viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg">
                                                            <path d="M192 1664h288v-288h-288v288zm352 0h320v-288h-320v288zm-352-352h288v-320h-288v320zm352 0h320v-320h-320v320zm-352-384h288v-288h-288v288zm736 736h320v-288h-320v288zm-384-736h320v-288h-320v288zm768 736h288v-288h-288v288zm-384-352h320v-320h-320v320zm-352-864v-288q0-13-9.5-22.5t-22.5-9.5h-64q-13 0-22.5 9.5t-9.5 22.5v288q0 13 9.5 22.5t22.5 9.5h64q13 0 22.5-9.5t9.5-22.5zm736 864h288v-320h-288v320zm-384-384h320v-288h-320v288zm384 0h288v-288h-288v288zm32-480v-288q0-13-9.5-22.5t-22.5-9.5h-64q-13 0-22.5 9.5t-9.5 22.5v288q0 13 9.5 22.5t22.5 9.5h64q13 0 22.5-9.5t9.5-22.5zm384-64v1280q0 52-38 90t-90 38h-1408q-52 0-90-38t-38-90v-1280q0-52 38-90t90-38h128v-96q0-66 47-113t113-47h64q66 0 113 47t47 113v96h384v-96q0-66 47-113t113-47h64q66 0 113 47t47 113v96h128q52 0 90 38t38 90z" />
                                                        </svg>
                                                    </i>
                                                </button>
                                            </span>
                                        </p>
                                    </div>
                                </div>
                                <div class="pb-2 pt-1">
                                    <button type="button" class="btn btn-sm btn-primary" ng-click="$ctrl.TimKiem()"><i class="fas fa-search pr-1"></i>Tìm kiếm</button>
                                    <button type="button" class="btn btn-sm btn-primary float-right" ng-click="$ctrl.Reset()"><i class="fas fa-ban pr-1"></i>Hủy tìm</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="card-footer clearfix text-center">
                <button ng-click="$ctrl.cancel()"
                        class="btn btn-sm btn-warning">
                    Thoát
                </button>
            </div>
        </div>
    </div>
</section>
